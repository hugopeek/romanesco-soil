!function(t,n){"function"==typeof define&&define.amd?define(function(){return t.MQ=n(t,t.MQ)}):t.MQ=n(t,t.MQ)}(this,function(e){return e.init=function(t){if(this.callbacks=[],this.context="",this.new_context="",void 0!==t)for(i=0;i<t.length;i++)this.addQuery(t[i]);this.addEvent(window,"resize",e.listenForChange,e),this.listenForChange()},e.listenForChange=function(){var t;document.documentElement.currentStyle&&(t=document.documentElement.currentStyle.fontFamily),null!==(t=window.getComputedStyle?window.getComputedStyle(document.documentElement,null).getPropertyValue("font-family"):t)&&((t=t.replace(/['",]/g,""))!==this.context&&(this.new_context=t,this.triggerCallbacks(this.context,"unmatch"),this.triggerCallbacks(this.new_context,"match")),this.context=this.new_context)},e.addQuery=function(t){if(null!=t)return this.callbacks.push(t),"string"==typeof t.context&&(t.context=[t.context]),"boolean"!=typeof t.call_for_each_context&&(t.call_for_each_context=!0),this.addEvent(window,"load",e.listenForChange,e),""!==this.context&&this._inArray(this.context,t.context)&&t.match(),this.callbacks[this.callbacks.length-1]},e.removeQuery=function(t){if(null!=t)for(var n;-1<(n=e._indexOf(t,this.callbacks));)this.callbacks.splice(n,1)},e.triggerCallbacks=function(t,n){for(var e,i=0;i<this.callbacks.length;i++)!1===this.callbacks[i].call_for_each_context&&("match"===n&&this._inArray(this.context,this.callbacks[i].context)||"unmatch"===n&&this._inArray(this.new_context,this.callbacks[i].context))||(e=this.callbacks[i][n],this._inArray(t,this.callbacks[i].context)&&void 0!==e&&e())},e.addEvent=function(t,n,e,i){null!=t&&(t.addEventListener?t.addEventListener(n,function(){e.call(i)},!1):t.attachEvent?t.attachEvent("on"+n,function(){e.call(i)}):t["on"+n]=function(){e.call(i)})},e.getPreviousContext=function(){return this.context},e.getContext=function(){return this.new_context},e._inArray=function(t,n){for(var e=n.length,i=0;i<e;i++)if(n[i]==t)return!0;return!1},e._indexOf=function(t,n,e){var i;if(n){if(n.indexOf)return n.indexOf(t,e);for(i=n.length,e=e?e<0?Math.max(0,i+e):e:0;e<i;e++)if(e in n&&n[e]===t)return e}return-1},e});